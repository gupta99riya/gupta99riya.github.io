import{Q as R,a as P}from"./QCard.b6028bcd.js";import{u as We,b as qe,a as N,Q as Ae}from"./QList.552ee13f.js";import{c as Be,h as Le,i as Qe,Q as T}from"./QBtn.ab04aca7.js";import{p as se,u as Re,a as $e,b as ze,c as De,d as Fe,e as Ie,f as Oe,g as Ke,h as Ve,r as je,i as ue,j as Ne,k as Je,Q as $}from"./focusout.36c19038.js";import{Q as J,a as X}from"./QItem.56c3240f.js";import{Z as Xe,r as z,v as Ye,E as re,I as Ge,x as ce,w as q,G as Ue,o as Z,g as pe,y as Ze,D as G,V as et,c as W,A as tt,h as de,T as lt,C as ot,_ as nt,d as at,M as it,k as u,j as r,$ as st,X as _,t as fe,m as w,a0 as ut,a1 as rt}from"./index.c47770a9.js";import{c as ct,g as dt}from"./scroll.3d7d7b9b.js";import{a as ft}from"./focus-manager.05708ea9.js";function ht(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Xe.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const mt={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function vt({showing:e,avoidEmit:l,configureAnchorEl:o}){const{props:t,proxy:n,emit:f}=pe(),a=z(null);let m=null;function v(i){return a.value===null?!1:i===void 0||i.touches===void 0||i.touches.length<=1}const d={};o===void 0&&(Object.assign(d,{hide(i){n.hide(i)},toggle(i){n.toggle(i),i.qAnchorHandled=!0},toggleKey(i){Ye(i,13)===!0&&d.toggle(i)},contextClick(i){n.hide(i),re(i),Ge(()=>{n.show(i),i.qAnchorHandled=!0})},prevent:re,mobileTouch(i){if(d.mobileCleanup(i),v(i)!==!0)return;n.hide(i),a.value.classList.add("non-selectable");const c=i.target;ce(d,"anchor",[[c,"touchmove","mobileCleanup","passive"],[c,"touchend","mobileCleanup","passive"],[c,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),m=setTimeout(()=>{m=null,n.show(i),i.qAnchorHandled=!0},300)},mobileCleanup(i){a.value.classList.remove("non-selectable"),m!==null&&(clearTimeout(m),m=null),e.value===!0&&i!==void 0&&ht()}}),o=function(i=t.contextMenu){if(t.noParentEvent===!0||a.value===null)return;let c;i===!0?n.$q.platform.is.mobile===!0?c=[[a.value,"touchstart","mobileTouch","passive"]]:c=[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:c=[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],ce(d,"anchor",c)});function h(){Ze(d,"anchor")}function p(i){for(a.value=i;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;o()}function y(){if(t.target===!1||t.target===""||n.$el.parentNode===null)a.value=null;else if(t.target===!0)p(n.$el.parentNode);else{let i=t.target;if(typeof t.target=="string")try{i=document.querySelector(t.target)}catch{i=void 0}i!=null?(a.value=i.$el||i,o()):(a.value=null,console.error(`Anchor: target "${t.target}" not found`))}}return q(()=>t.contextMenu,i=>{a.value!==null&&(h(),o(i))}),q(()=>t.target,()=>{a.value!==null&&h(),y()}),q(()=>t.noParentEvent,i=>{a.value!==null&&(i===!0?h():o())}),Ue(()=>{y(),l!==!0&&t.modelValue===!0&&a.value===null&&f("update:modelValue",!1)}),Z(()=>{m!==null&&clearTimeout(m),h()}),{anchorEl:a,canShow:v,anchorEvents:d}}function gt(e,l){const o=z(null);let t;function n(m,v){const d=`${v!==void 0?"add":"remove"}EventListener`,h=v!==void 0?v:t;m!==window&&m[d]("scroll",h,G.passive),window[d]("scroll",h,G.passive),t=v}function f(){o.value!==null&&(n(o.value),o.value=null)}const a=q(()=>e.noParentEvent,()=>{o.value!==null&&(f(),l())});return Z(a),{localScrollTarget:o,unconfigureScrollTarget:f,changeScrollEvent:n}}const{notPassiveCapture:D}=G,E=[];function F(e){const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let o=se.length-1;for(;o>=0;){const t=se[o].$;if(t.type.name==="QTooltip"){o--;continue}if(t.type.name!=="QDialog")break;if(t.props.seamless!==!0)return;o--}for(let t=E.length-1;t>=0;t--){const n=E[t];if((n.anchorEl.value===null||n.anchorEl.value.contains(l)===!1)&&(l===document.body||n.innerRef.value!==null&&n.innerRef.value.contains(l)===!1))e.qClickOutside=!0,n.onClickOutside(e);else return}}function xt(e){E.push(e),E.length===1&&(document.addEventListener("mousedown",F,D),document.addEventListener("touchstart",F,D))}function he(e){const l=E.findIndex(o=>o===e);l>-1&&(E.splice(l,1),E.length===0&&(document.removeEventListener("mousedown",F,D),document.removeEventListener("touchstart",F,D)))}let me,ve;function ge(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function _t(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const U={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{U[`${e}#ltr`]=e,U[`${e}#rtl`]=e});function xe(e,l){const o=e.split(" ");return{vertical:o[0],horizontal:U[`${o[1]}#${l===!0?"rtl":"ltr"}`]}}function pt(e,l){let{top:o,left:t,right:n,bottom:f,width:a,height:m}=e.getBoundingClientRect();return l!==void 0&&(o-=l[1],t-=l[0],f+=l[1],n+=l[0],a+=l[0],m+=l[1]),{top:o,bottom:f,height:m,left:t,right:n,width:a,middle:t+(n-t)/2,center:o+(f-o)/2}}function yt(e,l,o){let{top:t,left:n}=e.getBoundingClientRect();return t+=l.top,n+=l.left,o!==void 0&&(t+=o[1],n+=o[0]),{top:t,bottom:t+1,height:1,left:n,right:n+1,width:1,middle:n,center:t}}function bt(e,l){return{top:0,center:l/2,bottom:l,left:0,middle:e/2,right:e}}function _e(e,l,o,t){return{top:e[o.vertical]-l[t.vertical],left:e[o.horizontal]-l[t.horizontal]}}function ye(e,l=0){if(e.targetEl===null||e.anchorEl===null||l>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{ye(e,l+1)},10);return}const{targetEl:o,offset:t,anchorEl:n,anchorOrigin:f,selfOrigin:a,absoluteOffset:m,fit:v,cover:d,maxHeight:h,maxWidth:p}=e;if(et.is.ios===!0&&window.visualViewport!==void 0){const M=document.body.style,{offsetLeft:b,offsetTop:C}=window.visualViewport;b!==me&&(M.setProperty("--q-pe-left",b+"px"),me=b),C!==ve&&(M.setProperty("--q-pe-top",C+"px"),ve=C)}const{scrollLeft:y,scrollTop:i}=o,c=m===void 0?pt(n,d===!0?[0,0]:t):yt(n,m,t);Object.assign(o.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:p||"100vw",maxHeight:h||"100vh",visibility:"visible"});const{offsetWidth:L,offsetHeight:A}=o,{elWidth:Q,elHeight:I}=v===!0||d===!0?{elWidth:Math.max(c.width,L),elHeight:d===!0?Math.max(c.height,A):A}:{elWidth:L,elHeight:A};let x={maxWidth:p,maxHeight:h};(v===!0||d===!0)&&(x.minWidth=c.width+"px",d===!0&&(x.minHeight=c.height+"px")),Object.assign(o.style,x);const k=bt(Q,I);let g=_e(c,k,f,a);if(m===void 0||t===void 0)Y(g,c,k,f,a);else{const{top:M,left:b}=g;Y(g,c,k,f,a);let C=!1;if(g.top!==M){C=!0;const S=2*t[1];c.center=c.top-=S,c.bottom-=S+2}if(g.left!==b){C=!0;const S=2*t[0];c.middle=c.left-=S,c.right-=S+2}C===!0&&(g=_e(c,k,f,a),Y(g,c,k,f,a))}x={top:g.top+"px",left:g.left+"px"},g.maxHeight!==void 0&&(x.maxHeight=g.maxHeight+"px",c.height>g.maxHeight&&(x.minHeight=x.maxHeight)),g.maxWidth!==void 0&&(x.maxWidth=g.maxWidth+"px",c.width>g.maxWidth&&(x.minWidth=x.maxWidth)),Object.assign(o.style,x),o.scrollTop!==i&&(o.scrollTop=i),o.scrollLeft!==y&&(o.scrollLeft=y)}function Y(e,l,o,t,n){const f=o.bottom,a=o.right,m=ct(),v=window.innerHeight-m,d=document.body.clientWidth;if(e.top<0||e.top+f>v)if(n.vertical==="center")e.top=l[t.vertical]>v/2?Math.max(0,v-f):0,e.maxHeight=Math.min(f,v);else if(l[t.vertical]>v/2){const h=Math.min(v,t.vertical==="center"?l.center:t.vertical===n.vertical?l.bottom:l.top);e.maxHeight=Math.min(f,h),e.top=Math.max(0,h-f)}else e.top=Math.max(0,t.vertical==="center"?l.center:t.vertical===n.vertical?l.top:l.bottom),e.maxHeight=Math.min(f,v-e.top);if(e.left<0||e.left+a>d)if(e.maxWidth=Math.min(a,d),n.horizontal==="middle")e.left=l[t.horizontal]>d/2?Math.max(0,d-a):0;else if(l[t.horizontal]>d/2){const h=Math.min(d,t.horizontal==="middle"?l.middle:t.horizontal===n.horizontal?l.right:l.left);e.maxWidth=Math.min(a,h),e.left=Math.max(0,h-e.maxWidth)}else e.left=Math.max(0,t.horizontal==="middle"?l.middle:t.horizontal===n.horizontal?l.left:l.right),e.maxWidth=Math.min(a,d-e.left)}var wt=Be({name:"QMenu",inheritAttrs:!1,props:{...mt,...Re,...We,...$e,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:ge},self:{type:String,validator:ge},offset:{type:Array,validator:_t},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...ze,"click","escapeKey"],setup(e,{slots:l,emit:o,attrs:t}){let n=null,f,a,m;const v=pe(),{proxy:d}=v,{$q:h}=d,p=z(null),y=z(!1),i=W(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),c=qe(e,h),{registerTick:L,removeTick:A}=De(),{registerTimeout:Q}=Fe(),{transitionProps:I,transitionStyle:x}=Ie(e),{localScrollTarget:k,changeScrollEvent:g,unconfigureScrollTarget:M}=gt(e,ae),{anchorEl:b,canShow:C}=vt({showing:y}),{hide:S}=Oe({showing:y,canShow:C,handleShow:ke,handleHide:Se,hideOnRouteChange:i,processOnMount:!0}),{showPortal:ee,hidePortal:te,renderPortal:be}=Ke(v,p,He,"menu"),O={anchorEl:b,innerRef:p,onClickOutside(s){if(e.persistent!==!0&&y.value===!0)return S(s),(s.type==="touchstart"||s.target.classList.contains("q-dialog__backdrop"))&&ot(s),!0}},le=W(()=>xe(e.anchor||(e.cover===!0?"center middle":"bottom start"),h.lang.rtl)),we=W(()=>e.cover===!0?le.value:xe(e.self||"top start",h.lang.rtl)),Ce=W(()=>(e.square===!0?" q-menu--square":"")+(c.value===!0?" q-menu--dark q-dark":"")),Te=W(()=>e.autoClose===!0?{onClick:Ee}:{}),oe=W(()=>y.value===!0&&e.persistent!==!0);q(oe,s=>{s===!0?(Ne(V),xt(O)):(ue(V),he(O))});function K(){ft(()=>{let s=p.value;s&&s.contains(document.activeElement)!==!0&&(s=s.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||s.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||s.querySelector("[autofocus], [data-autofocus]")||s,s.focus({preventScroll:!0}))})}function ke(s){if(n=e.noRefocus===!1?document.activeElement:null,Ve(ie),ee(),ae(),f=void 0,s!==void 0&&(e.touchPosition||e.contextMenu)){const j=tt(s);if(j.left!==void 0){const{top:Me,left:Pe}=b.value.getBoundingClientRect();f={left:j.left-Pe,top:j.top-Me}}}a===void 0&&(a=q(()=>h.screen.width+"|"+h.screen.height+"|"+e.self+"|"+e.anchor+"|"+h.lang.rtl,B)),e.noFocus!==!0&&document.activeElement.blur(),L(()=>{B(),e.noFocus!==!0&&K()}),Q(()=>{h.platform.is.ios===!0&&(m=e.autoClose,p.value.click()),B(),ee(!0),o("show",s)},e.transitionDuration)}function Se(s){A(),te(),ne(!0),n!==null&&(s===void 0||s.qClickOutside!==!0)&&(((s&&s.type.indexOf("key")===0?n.closest('[tabindex]:not([tabindex^="-"])'):void 0)||n).focus(),n=null),Q(()=>{te(!0),o("hide",s)},e.transitionDuration)}function ne(s){f=void 0,a!==void 0&&(a(),a=void 0),(s===!0||y.value===!0)&&(je(ie),M(),he(O),ue(V)),s!==!0&&(n=null)}function ae(){(b.value!==null||e.scrollTarget!==void 0)&&(k.value=dt(b.value,e.scrollTarget),g(k.value,B))}function Ee(s){m!==!0?(Je(d,s),o("click",s)):m=!1}function ie(s){oe.value===!0&&e.noFocus!==!0&&Qe(p.value,s.target)!==!0&&K()}function V(s){o("escapeKey"),S(s)}function B(){ye({targetEl:p.value,offset:e.offset,anchorEl:b.value,anchorOrigin:le.value,selfOrigin:we.value,absoluteOffset:f,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function He(){return de(lt,I.value,()=>y.value===!0?de("div",{role:"menu",...t,ref:p,tabindex:-1,class:["q-menu q-position-engine scroll"+Ce.value,t.class],style:[t.style,x.value],...Te.value},Le(l.default)):null)}return Z(ne),Object.assign(d,{focus:K,updatePosition:B}),be}});const Ct={setup(){return{lorem:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}}},H=e=>(ut("data-v-2634d1aa"),e=e(),rt(),e),Tt={class:"q-pa-md row items-start q-gutter-md"},kt=H(()=>w("div",{class:"text-h6"},"Our Changing Planet",-1)),St=H(()=>w("div",{class:"text-subtitle2"},"by John Doe",-1)),Et=H(()=>w("div",{class:"text-h6"},"Our Changing Planet",-1)),Ht=H(()=>w("div",{class:"text-subtitle2"},"by John Doe",-1)),Mt=H(()=>w("div",{class:"text-h6"},"Our Changing Planet",-1)),Pt=H(()=>w("div",{class:"text-subtitle2"},"by John Doe",-1)),Wt={class:"row items-center no-wrap"},qt=H(()=>w("div",{class:"col"},[w("div",{class:"text-h6"},"Our Planet"),w("div",{class:"text-subtitle2"},"by John Doe")],-1)),At={class:"col-auto"};function Bt(e,l,o,t,n,f){return at(),it("div",Tt,[u(R,{class:"my-card bg-secondary text-white"},{default:r(()=>[u(P,null,{default:r(()=>[kt,St]),_:1}),u(P,null,{default:r(()=>[_(fe(t.lorem),1)]),_:1}),u(N,{dark:""}),u($,null,{default:r(()=>[u(T,{flat:""},{default:r(()=>[_("Action 1")]),_:1}),u(T,{flat:""},{default:r(()=>[_("Action 2")]),_:1})]),_:1})]),_:1}),u(R,{class:"my-card"},{default:r(()=>[u(P,null,{default:r(()=>[Et,Ht]),_:1}),u(N),u($,{vertical:""},{default:r(()=>[u(T,{flat:""},{default:r(()=>[_("Action 1")]),_:1}),u(T,{flat:""},{default:r(()=>[_("Action 2")]),_:1})]),_:1})]),_:1}),u(R,{class:"my-card bg-purple text-white"},{default:r(()=>[u(P,null,{default:r(()=>[Mt,Pt]),_:1}),u($,null,{default:r(()=>[u(T,{flat:""},{default:r(()=>[_("Action 1")]),_:1}),u(T,{flat:""},{default:r(()=>[_("Action 2")]),_:1})]),_:1})]),_:1}),u(R,{flat:"",bordered:"",class:st(["my-card",e.$q.dark.isActive?"bg-grey-9":"bg-grey-2"])},{default:r(()=>[u(P,null,{default:r(()=>[w("div",Wt,[qt,w("div",At,[u(T,{color:"grey-7",round:"",flat:"",icon:"more_vert"},{default:r(()=>[u(wt,{cover:"","auto-close":""},{default:r(()=>[u(Ae,null,{default:r(()=>[u(J,{clickable:""},{default:r(()=>[u(X,null,{default:r(()=>[_("Remove Card")]),_:1})]),_:1}),u(J,{clickable:""},{default:r(()=>[u(X,null,{default:r(()=>[_("Send Feedback")]),_:1})]),_:1}),u(J,{clickable:""},{default:r(()=>[u(X,null,{default:r(()=>[_("Share")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])])]),_:1}),u(P,null,{default:r(()=>[_(fe(t.lorem),1)]),_:1}),u(N),u($,null,{default:r(()=>[u(T,{flat:""},{default:r(()=>[_("Action 1")]),_:1}),u(T,{flat:""},{default:r(()=>[_("Action 2")]),_:1})]),_:1})]),_:1},8,["class"])])}var Ot=nt(Ct,[["render",Bt],["__scopeId","data-v-2634d1aa"]]);export{Ot as default};
