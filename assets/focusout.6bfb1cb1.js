import{c as K,u as N,j as U,h as j,v as L,k as b,l as y}from"./QBtn.63ac02e1.js";import{c as w,h as D,w as A,G as O,g as C,I as T,a2 as F,r as M,K as B,P as W,a3 as z,R as Q,o as S,v as R,V as G}from"./index.e299513b.js";import{b as _,c as J}from"./focus-manager.05708ea9.js";var ue=K({name:"QCardActions",props:{...N,vertical:Boolean},setup(e,{slots:t}){const n=U(e),a=w(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>D("div",{class:a.value},j(t.default))}});const re={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},fe=["beforeShow","show","beforeHide","hide"];function ce({showing:e,canShow:t,hideOnRouteChange:n,handleShow:a,handleHide:i,processOnMount:d}){const r=C(),{props:l,emit:s,proxy:h}=r;let u;function v(o){e.value===!0?$(o):g(o)}function g(o){if(l.disable===!0||o!==void 0&&o.qAnchorHandled===!0||t!==void 0&&t(o)!==!0)return;const m=l["onUpdate:modelValue"]!==void 0;m===!0&&(s("update:modelValue",!0),u=o,T(()=>{u===o&&(u=void 0)})),(l.modelValue===null||m===!1)&&V(o)}function V(o){e.value!==!0&&(e.value=!0,s("beforeShow",o),a!==void 0?a(o):s("show",o))}function $(o){if(l.disable===!0)return;const m=l["onUpdate:modelValue"]!==void 0;m===!0&&(s("update:modelValue",!1),u=o,T(()=>{u===o&&(u=void 0)})),(l.modelValue===null||m===!1)&&k(o)}function k(o){e.value!==!1&&(e.value=!1,s("beforeHide",o),i!==void 0?i(o):s("hide",o))}function E(o){l.disable===!0&&o===!0?l["onUpdate:modelValue"]!==void 0&&s("update:modelValue",!1):o===!0!==e.value&&(o===!0?V:k)(u)}A(()=>l.modelValue,E),n!==void 0&&L(r)===!0&&A(()=>h.$route.fullPath,()=>{n.value===!0&&e.value===!0&&$()}),d===!0&&O(()=>{E(l.modelValue)});const q={show:g,hide:$,toggle:v};return Object.assign(h,q),q}let X=1,Y=document.body;function Z(e,t){const n=document.createElement("div");if(n.id=t!==void 0?`q-portal--${t}--${X++}`:e,F.globalNodes!==void 0){const a=F.globalNodes.class;a!==void 0&&(n.className=a)}return Y.appendChild(n),n}function x(e){e.remove()}const P=[];function de(e){return P.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function ee(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return b(e)}else if(e.__qPortal===!0){const n=b(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=b(e)}while(e!=null)}function me(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=ee(e,t);continue}e.hide(t)}e=b(e)}}function te(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function pe(e,t,n,a){const i=M(!1),d=M(!1);let r=null;const l={},s=a==="dialog"&&te(e);function h(v){if(v===!0){_(l),d.value=!0;return}d.value=!1,i.value===!1&&(s===!1&&r===null&&(r=Z(!1,a)),i.value=!0,P.push(e.proxy),J(l))}function u(v){if(d.value=!1,v!==!0)return;_(l),i.value=!1;const g=P.indexOf(e.proxy);g!==-1&&P.splice(g,1),r!==null&&(x(r),r=null)}return B(()=>{u(!0)}),e.proxy.__qPortal=!0,W(e.proxy,"contentEl",()=>t.value),{showPortal:h,hidePortal:u,portalIsActive:i,portalIsAccessible:d,renderPortal:()=>s===!0?n():i.value===!0?[D(z,{to:r},n())]:void 0}}const ve={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function ge(e,t=()=>{},n=()=>{}){return{transitionProps:w(()=>{const a=`q-transition--${e.transitionShow||t()}`,i=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${a}-enter-from`,enterActiveClass:`${a}-enter-active`,enterToClass:`${a}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:w(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function he(){let e;const t=C();function n(){e=void 0}return Q(n),S(n),{removeTick:n,registerTick(a){e=a,T(()=>{e===a&&(y(t)===!1&&e(),e=void 0)})}}}function be(){let e=null;const t=C();function n(){e!==null&&(clearTimeout(e),e=null)}return Q(n),S(n),{removeTimeout:n,registerTimeout(a,i){n(),y(t)===!1&&(e=setTimeout(a,i))}}}const f=[];let p;function ne(e){p=e.keyCode===27}function oe(){p===!0&&(p=!1)}function ae(e){p===!0&&(p=!1,R(e,27)===!0&&f[f.length-1](e))}function H(e){window[e]("keydown",ne),window[e]("blur",oe),window[e]("keyup",ae),p=!1}function Pe(e){G.is.desktop===!0&&(f.push(e),f.length===1&&H("addEventListener"))}function $e(e){const t=f.indexOf(e);t>-1&&(f.splice(t,1),f.length===0&&H("removeEventListener"))}const c=[];function I(e){c[c.length-1](e)}function we(e){G.is.desktop===!0&&(c.push(e),c.length===1&&document.body.addEventListener("focusin",I))}function Te(e){const t=c.indexOf(e);t>-1&&(c.splice(t,1),c.length===0&&document.body.removeEventListener("focusin",I))}export{ue as Q,ve as a,fe as b,he as c,be as d,ge as e,ce as f,pe as g,we as h,$e as i,Pe as j,ee as k,de as l,me as m,P as p,Te as r,re as u};
